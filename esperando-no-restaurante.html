<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HistÃ³ria Social: Esperando a Comida Chegar</title>
    <meta name="description" content="HistÃ³ria social interativa para ajudar crianÃ§as a lidar com a espera no restaurante com apoio visual.">
    <meta name="theme-color" content="#60a5fa">
    <link rel="canonical" href="https://jonasaacampos.github.io/social_stories/esperando-no-restaurante.html">

    <!-- Metadados para redes sociais -->
    <meta property="og:title" content="HistÃ³ria Social: Esperando a Comida Chegar">
    <meta property="og:description" content="SequÃªncia guiada para apoiar crianÃ§as na experiÃªncia de jantar em um restaurante.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://jonasaacampos.github.io/social_stories/esperando-no-restaurante.html">
    <meta property="og:locale" content="pt_BR">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="HistÃ³ria Social: Esperando a Comida Chegar">
    <meta name="twitter:description" content="Use recursos visuais para preparar a crianÃ§a para a experiÃªncia de jantar em um restaurante.">
    
    <!-- Tailwind CSS para o design (versÃ£o CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* AnimaÃ§Ã£o suave para o bounce do Ã­cone */
        @keyframes bounce-slow {
            0%, 100% { transform: translateY(-5%); }
            50% { transform: translateY(5%); }
        }
        .animate-bounce-slow {
            animation: bounce-slow 3s infinite;
        }
        /* TransiÃ§Ãµes suaves de cor */
        body {
            transition: background-color 0.5s ease;
        }
        .emoji-large {
            font-size: 6rem;
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.15));
            transition: transform 0.3s ease;
            line-height: 1;
        }
        .emoji-large:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body id="body-bg" class="min-h-screen flex flex-col items-center justify-center p-4 font-sans bg-orange-50 transition-colors duration-500">

    <!-- Header -->
    <header class="absolute top-0 left-0 w-full p-4 text-center text-gray-500 text-xs md:text-sm uppercase tracking-widest opacity-50">
        HistÃ³ria Social: Esperando a Comida Chegar
    </header>

    <!-- Card Principal -->
    <div class="bg-white rounded-3xl shadow-xl p-6 md:p-10 max-w-md w-full flex flex-col items-center text-center space-y-6 border-4 border-white ring-4 ring-gray-100 transition-all duration-300 transform hover:scale-[1.01]">
        
        <!-- Ãrea da Imagem -->
        <div class="w-full h-64 bg-gray-50 rounded-2xl flex items-center justify-center mb-2 border-2 border-gray-100 overflow-hidden">
            <div id="icon-container" class="animate-bounce-slow flex gap-4 items-center justify-center">
                <!-- Emojis sÃ£o inseridos aqui pelo JS -->
            </div>
        </div>

        <!-- Texto da HistÃ³ria -->
        <div class="flex-grow flex items-center justify-center min-h-[100px]">
            <p id="story-text" class="text-xl md:text-2xl text-gray-800 font-medium leading-relaxed">
                Carregando histÃ³ria...
            </p>
        </div>

        <!-- Controles de NavegaÃ§Ã£o -->
        <div class="w-full flex items-center justify-between mt-6 pt-6 border-t border-gray-100">
            
            <!-- BotÃ£o Voltar -->
            <button id="btn-prev" class="p-4 rounded-full transition-all hover:bg-gray-100 text-gray-600 disabled:opacity-20 disabled:cursor-not-allowed text-3xl" aria-label="Voltar">
                <span aria-hidden="true">â†</span>
            </button>

            <!-- Indicador de PÃ¡ginas -->
            <div id="page-indicator" class="text-gray-400 font-bold text-lg">
                1 / 7
            </div>

            <!-- BotÃ£o AvanÃ§ar / Reiniciar -->
            <button id="btn-next" class="p-4 rounded-full bg-blue-600 text-white shadow-lg hover:bg-blue-700 hover:shadow-xl transition-all transform hover:scale-110 text-3xl" aria-label="PrÃ³ximo">
                <span id="btn-next-label" aria-hidden="true">â†’</span>
            </button>
        </div>
    </div>

    <!-- Barra de Progresso -->
    <div class="w-full max-w-md mt-8 h-2 bg-gray-200 rounded-full overflow-hidden">
        <div id="progress-bar" class="h-full bg-blue-500 transition-all duration-500 ease-out" style="width: 14.28%"></div>
    </div>

    <!-- InstruÃ§Ã£o Discreta -->
    <div class="mt-4 text-gray-400 text-xs">
        Toque na seta azul para continuar
    </div>

    <script>
        // --- Dados da HistÃ³ria ---
        const storyData = [
            {
                id: 1,
                text: "Eu vou jantar no restaurante com minha famÃ­lia.",
                emojisHtml: `<span class="emoji-large">ğŸ½ï¸</span>
                            <span class="emoji-large">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</span>`,
                bgColor: "bg-orange-50"
            },
            {
                id: 2,
                text: "NÃ³s pedimos a comida para o garÃ§om. A comida precisa ser preparada na cozinha.",
                emojisHtml: `<span class="emoji-large">ğŸ§‘â€ğŸ³</span>
                            <span class="emoji-large">ğŸ‘¨ğŸ¿â€ğŸ³</span>`,
                bgColor: "bg-red-50"
            },
            {
                id: 3,
                text: "Esperar a comida pode ser chato e demorado.",
                emojisHtml: `<span class="emoji-large">â°</span>
                            <span class="emoji-large">ğŸ˜</span>`,
                bgColor: "bg-gray-50"
            },
            {
                id: 4,
                text: "Enquanto eu espero, eu fico sentado na minha cadeira.",
                emojisHtml: `<span class="emoji-large">ğŸª‘</span>
                            <span class="emoji-large">ğŸ™‚</span>`,
                bgColor: "bg-blue-50"
            },
            {
                id: 5,
                text: "Eu posso colorir meu desenho ou brincar com meu brinquedo silencioso enquanto a comida nÃ£o vem.",
                emojisHtml: `<span class="emoji-large">ğŸ–ï¸</span>
                            <span class="emoji-large">ğŸ§¸</span>`,
                bgColor: "bg-purple-50"
            },
            {
                id: 6,
                text: "Quando a comida chega, eu como devagar e aprecio a comida.",
                emojisHtml: `<span class="emoji-large">ğŸ½ï¸</span>
                            <span class="emoji-large">ğŸ¥¤</span>`,
                bgColor: "bg-yellow-50"
            },
            {
                id: 7,
                text: "Eu consigo esperar. Comer no restaurante Ã© uma delÃ­cia!",
                emojisHtml: `<span class="emoji-large">ğŸ˜‹</span>
                            <span class="emoji-large">â­</span>`,
                bgColor: "bg-green-50"
            }
        ];

        // --- LÃ³gica do App ---
        let currentStep = 0;

        // Elementos do DOM
        const bodyBg = document.getElementById('body-bg');
        const iconContainer = document.getElementById('icon-container');
        const storyText = document.getElementById('story-text');
        const btnPrev = document.getElementById('btn-prev');
        const btnNext = document.getElementById('btn-next');
        const pageIndicator = document.getElementById('page-indicator');
        const progressBar = document.getElementById('progress-bar');
        const btnNextLabel = document.getElementById('btn-next-label');

        function renderStep() {
            const data = storyData[currentStep];
            
            // 1. Atualizar Texto
            storyText.textContent = data.text;
            
            // 2. Atualizar Emojis
            iconContainer.innerHTML = data.emojisHtml;

            // 3. Atualizar Cores de Fundo
            // Remove classes antigas de bg-*
            bodyBg.className = bodyBg.className.replace(/bg-\w+-\d+/g, '');
            bodyBg.classList.add(data.bgColor);

            // 4. Atualizar BotÃµes
            btnPrev.disabled = currentStep === 0;
            
            if (currentStep === storyData.length - 1) {
                // BotÃ£o de Reiniciar (Verde)
                btnNext.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                btnNext.classList.add('bg-green-500', 'hover:bg-green-600');
                // Muda Ã­cone para reload
                btnNextLabel.textContent = 'â†º';
            } else {
                // BotÃ£o PrÃ³ximo (Azul)
                btnNext.classList.remove('bg-green-500', 'hover:bg-green-600');
                btnNext.classList.add('bg-blue-600', 'hover:bg-blue-700');
                // Muda Ã­cone para seta
                btnNextLabel.textContent = 'â†’';
            }

            // 5. Atualizar Indicadores
            pageIndicator.textContent = `${currentStep + 1} / ${storyData.length}`;
            const progress = ((currentStep + 1) / storyData.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // --- Event Listeners ---
        btnPrev.addEventListener('click', () => {
            if (currentStep > 0) {
                currentStep--;
                renderStep();
            }
        });

        btnNext.addEventListener('click', () => {
            if (currentStep < storyData.length - 1) {
                currentStep++;
            } else {
                currentStep = 0; // Reiniciar
            }
            renderStep();
        });

        // --- InicializaÃ§Ã£o ---
        renderStep();
    </script>
</body>
</html>
